import{r as t,j as e,S as u,H as w,L as j,s as g}from"./index-BUFGKAuy.js";import{H as a,F as l}from"./Footer-i75Jc2Kz.js";import{C as N,a as b,b as y,c as v}from"./card-6PXt11YQ.js";import{B as C}from"./button-DJwbL6o2.js";import{m as r}from"./proxy-CFHUhMrY.js";import{M as k,r as A}from"./index-Bxu1_jgB.js";import{A as S}from"./arrow-right-DxA2Fi8z.js";const M=()=>{const[i,d]=t.useState([]),[m,n]=t.useState(!0),[o,c]=t.useState(null);t.useEffect(()=>{(async()=>{n(!0),c(null);const{data:p,error:x}=await g.from("news_articles").select("*").order("publish_date",{ascending:!1}).order("created_at",{ascending:!1});x?(console.error("Error fetching news articles:",x),c("Failed to load news articles.")):d(p||[]),n(!1)})()},[]);const h={visible:{transition:{staggerChildren:.1}},hidden:{}},f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",duration:.8}}};return m?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(a,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx(u,{text:"Loading news..."})}),e.jsx(l,{})]}):o?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(a,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx("p",{className:"text-lg text-red-600",children:o})}),e.jsx(l,{})]}):e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsxs(w,{children:[e.jsx("title",{children:"News & Updates - Tomball T3 Robotics"}),e.jsx("meta",{name:"description",content:"Stay updated with the latest news, announcements, and achievements from Tomball T3 Robotics, FRC Team 7312."})]}),e.jsx(a,{}),e.jsxs(r.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex-grow container mx-auto px-4 py-12 pt-24",children:[e.jsx("h1",{className:"text-5xl font-extrabold text-[#0d2f60] text-center mb-12",children:"All News & Updates"}),e.jsx(r.div,{className:"flex flex-wrap justify-center gap-8 max-w-7xl mx-auto",variants:h,initial:"hidden",animate:"visible",children:i.length>0?i.map(s=>e.jsx(r.div,{variants:f,className:"w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]",children:e.jsxs(N,{className:"text-left shadow-lg bg-white flex flex-col h-full hover:shadow-xl transition-shadow",children:[s.image_urls&&s.image_urls.length>0&&e.jsx("img",{src:s.image_urls[0],alt:`Image for ${s.title}`,className:"w-full h-48 object-cover rounded-t-lg",width:400,height:192,loading:"lazy"}),e.jsxs(b,{className:"p-4",children:[e.jsx("p",{className:"font-semibold text-gray-500 text-sm",children:new Date(s.publish_date).toLocaleDateString()}),e.jsx(y,{className:"text-xl text-[#0d2f60]",children:s.title})]}),e.jsxs(v,{className:"p-4 pt-0 flex-grow flex flex-col justify-between",children:[e.jsx("div",{className:"prose prose-sm text-gray-700 mb-4 line-clamp-3",children:e.jsx(k,{remarkPlugins:[A],children:s.content})}),e.jsx(C,{asChild:!0,variant:"link",className:"p-0 h-auto justify-start text-[#d92507] hover:text-[#b31f06] mt-auto w-full",children:e.jsxs(j,{to:`/news/${s.id}`,className:"flex items-center w-full",children:[e.jsxs("span",{className:"flex-grow whitespace-nowrap overflow-hidden text-ellipsis",children:['Read More about "',s.title,'"']}),e.jsx(S,{className:"ml-2 h-4 w-4 flex-shrink-0"})]})})]})]})},s.id)):e.jsx("div",{className:"col-span-full text-center text-gray-600 text-xl mt-8",children:"No news articles to display yet. Check back soon!"})})]}),e.jsx(l,{})]})};export{M as default};
