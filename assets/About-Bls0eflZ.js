import{r as o,j as e,i as j,S as M,H as V,s as u}from"./index-B77WVJKM.js";import{H as v,F as y}from"./Footer-h5GLQPly.js";import{C as R,a as $,b as k}from"./card-5uzQAO8s.js";import{m as i}from"./proxy-CiclMtXD.js";import{T as D}from"./trophy-CfwUYWuN.js";import"./button-D3LdhOE6.js";const L=({images:a,interval:x=4e3,className:n})=>{const[f,g]=o.useState(0);return o.useEffect(()=>{if(a.length<=1)return;const l=setInterval(()=>{g(r=>(r+1)%a.length)},x);return()=>clearInterval(l)},[a,x]),a.length===0?e.jsx("div",{className:j("w-full h-full bg-gray-200 flex items-center justify-center text-gray-500",n),children:"No images to display"}):e.jsx("div",{className:j("overflow-hidden",n),children:a.map((l,r)=>e.jsx("img",{src:l,alt:`Slideshow image ${r+1}`,className:j("absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out",r===f?"opacity-100":"opacity-0"),loading:r===0?"eager":"lazy"},r))})},q=()=>{const[a,x]=o.useState([]),[n,f]=o.useState([]),[g,l]=o.useState([]),[r,w]=o.useState(!0),[N,c]=o.useState(null);o.useEffect(()=>{(async()=>{w(!0),c(null);const{data:z,error:C}=await u.from("team_members").select("*").order("created_at",{ascending:!0}),{data:H,error:S}=await u.from("achievements").select("*"),{data:p,error:I}=await u.from("events").select("id, event_date, awards").not("awards","is",null),{data:b,error:A}=await u.from("slideshow_images").select("image_url").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(C)console.error("Error fetching team members:",C),c("Failed to load team members.");else if(S)console.error("Error fetching manual achievements:",S),c("Failed to load manual achievements.");else if(I)console.error("Error fetching event awards:",I),c("Failed to load event awards.");else if(A)console.error("Error fetching slideshow images:",A),c("Failed to load slideshow images for carousel.");else{x(z||[]),l((b==null?void 0:b.map(t=>t.image_url))||[]);const _=[];p==null||p.forEach(t=>{var d;const h=new Date(t.event_date).getFullYear().toString();(d=t.awards)==null||d.forEach(m=>{_.push({id:`${t.id}-${m}`,year:h,description:m,source:"tba"})})});const F=[...(H||[]).map(t=>({id:t.id,year:t.year,description:t.description,source:"manual"})),..._];F.sort((t,h)=>{const d=parseInt(t.year,10),m=parseInt(h.year,10);return d!==m?m-d:t.description.localeCompare(h.description)}),f(F)}w(!1)})()},[]);const T={visible:{transition:{staggerChildren:.05}},hidden:{}},E={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",duration:.8}}};return r?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(v,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx(M,{text:"Loading About page content..."})}),e.jsx(y,{})]}):N?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(v,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx("p",{className:"text-lg text-red-600",children:N})}),e.jsx(y,{})]}):e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsxs(V,{children:[e.jsx("title",{children:"About Us - Tomball T3 Robotics"}),e.jsx("meta",{name:"description",content:"Learn about Tomball T3 Robotics, FRC Team 7312, our mission, team members, and achievements in STEM."})]}),e.jsx(v,{}),e.jsxs("main",{className:"flex-grow overflow-hidden pt-16",children:[e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"relative h-[calc(100vh-4rem)] flex items-center justify-center text-center",children:[e.jsx(L,{images:g,className:"absolute inset-0 z-0"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-70 z-10"}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.2,ease:"easeOut"},className:"absolute inset-0 z-20 p-8 max-w-3xl mx-auto flex flex-col items-center justify-center",children:[e.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold text-white mb-4 leading-tight",children:"About Tomball T3 Robotics"}),e.jsx("p",{className:"text-xl text-gray-200 mb-8",children:"Tomball T3 Robotics, FRC Team 7312, is dedicated to inspiring young minds in science, technology, engineering, and mathematics (STEM) through participation in the FIRST Robotics Competition. We aim to build not just robots, but also future leaders, innovators, and problem-solvers, fostering a culture of teamwork, Gracious Professionalism, and Coopertition."})]})]}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsxs(i.section,{className:"mb-16",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[e.jsx("h2",{className:"text-4xl font-bold text-[#d92507] text-center mb-8",children:"Meet the Team"}),e.jsx(i.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-5xl mx-auto",variants:T,children:a.map(s=>e.jsx(i.div,{variants:E,className:"flex",children:e.jsxs(R,{className:"w-full flex flex-col shadow-lg rounded-lg bg-white hover:shadow-xl transition-shadow overflow-hidden",children:[s.image_url&&e.jsx("img",{src:s.image_url,alt:`Profile image of ${s.name}`,className:"w-full h-48 object-cover rounded-t-lg border-b-4 border-[#0d2f60]",width:300,height:192,loading:"lazy"}),e.jsxs($,{className:"p-4 text-center",children:[e.jsx(k,{className:"text-xl font-bold text-[#0d2f60]",children:s.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:s.role})]})]})},s.id))}),a.length===0&&e.jsx("p",{className:"text-center text-gray-600 text-xl mt-8",children:"No team members to display yet."})]}),e.jsxs(i.section,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[e.jsx("h2",{className:"text-4xl font-bold text-[#0d2f60] text-center mb-8",children:"Our Achievements"}),e.jsx(i.div,{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",variants:T,children:n.map(s=>e.jsx(i.div,{variants:E,className:"flex",children:e.jsxs(R,{className:"w-full p-5 shadow-lg rounded-lg bg-white flex items-center space-x-4 border-l-4 border-[#d92507] hover:shadow-xl transition-shadow",children:[e.jsx("div",{className:"flex-shrink-0 text-[#0d2f60]",children:e.jsx(D,{className:"h-8 w-8"})}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-500",children:s.year}),e.jsx("p",{className:"text-lg text-gray-700 font-medium",children:s.description})]})]})},s.id))}),n.length===0&&e.jsx("p",{className:"text-center text-gray-600 text-xl mt-8",children:"No achievements to display yet."})]})]})]}),e.jsx(y,{})]})};export{q as default};
