import{r as n,j as e,S as k,H as L,L as I,s as b}from"./index-B77WVJKM.js";import{H as c,F as m}from"./Footer-h5GLQPly.js";import{C as j,c as N,b as C}from"./card-5uzQAO8s.js";import{B as F}from"./button-D3LdhOE6.js";import{m as i}from"./proxy-CiclMtXD.js";import{E as V}from"./external-link-BgdTn4fR.js";const v={diamond:{cardClass:"w-full md:w-3/4 lg:w-2/3",imageContainerClass:"h-64",showDescription:!0,showName:!0,showWebsiteButton:!0},sapphire:{cardClass:"w-full md:w-[calc(50%-1rem)]",imageContainerClass:"h-56",showDescription:!0,showName:!0,showWebsiteButton:!0},platinum:{cardClass:"w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]",imageContainerClass:"h-48",showDescription:!0,showName:!0,showWebsiteButton:!0},gold:{cardClass:"w-full sm:w-[calc(50%-1rem)] md:w-[calc(33.333%-1.333rem)] lg:w-[calc(25%-1.5rem)]",imageContainerClass:"h-40",showDescription:!1,showName:!0,showWebsiteButton:!0},silver:{cardClass:"w-[calc(50%-0.5rem)] sm:w-[calc(33.333%-1rem)] md:w-[calc(25%-1.5rem)] lg:w-[calc(20%-1.6rem)]",imageContainerClass:"h-32",showDescription:!1,showName:!0,showWebsiteButton:!1},bronze:{cardClass:"w-[calc(50%-0.5rem)] sm:w-[calc(33.333%-1rem)] md:w-[calc(25%-1.5rem)] lg:w-[calc(20%-1.6rem)]",imageContainerClass:"h-24",showDescription:!1,showName:!0,showWebsiteButton:!1}},U=()=>{const[d,y]=n.useState([]),[h,_]=n.useState([]),[S,x]=n.useState(!0),[u,p]=n.useState(null);n.useEffect(()=>{(async()=>{x(!0);const{data:a,error:r}=await b.from("sponsors").select("*").order("amount",{ascending:!1}),{data:t,error:w}=await b.from("sponsorship_tiers").select("*");if(r)console.error("Error fetching sponsors:",r),p("Failed to load sponsors.");else if(w)console.error("Error fetching sponsorship tiers:",w),p("Failed to load sponsorship tiers.");else{y(a||[]);const T=(t||[]).sort((D,E)=>{const W=parseInt(D.price.replace(/[^0-9]/g,""),10);return parseInt(E.price.replace(/[^0-9]/g,""),10)-W});_(T)}x(!1)})()},[]);const B=s=>{for(const a of h){const r=parseInt(a.price.replace(/[^0-9]/g,""),10);if(s>=r)return a}return null},l={},o=[];d.forEach(s=>{const a=B(s.amount);a?(l[a.tier_id]||(l[a.tier_id]=[]),l[a.tier_id].push(s)):o.push(s)});const f={visible:{transition:{staggerChildren:.1}},hidden:{}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",duration:.8}}};return S?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(c,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx(k,{text:"Loading sponsors..."})}),e.jsx(m,{})]}):u?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(c,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx("p",{className:"text-lg text-red-600",children:u})}),e.jsx(m,{})]}):e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsxs(L,{children:[e.jsx("title",{children:"Our Sponsors - Tomball T3 Robotics"}),e.jsx("meta",{name:"description",content:"Meet the generous sponsors who support Tomball T3 Robotics, FRC Team 7312, and learn how you can contribute."})]}),e.jsx(c,{}),e.jsxs(i.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex-grow container mx-auto px-4 py-12 pt-24",children:[e.jsx("h1",{className:"text-5xl font-extrabold text-[#0d2f60] text-center mb-12",children:"Our Valued Sponsors"}),h.map(s=>{const a=l[s.tier_id];if(!a||a.length===0)return null;const r=v[s.tier_id]||v.gold;return e.jsxs(i.div,{className:"mb-16",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[e.jsxs("h2",{className:`text-4xl font-bold text-center mb-8 ${s.color}`,children:[s.name," Sponsors"]}),e.jsx(i.div,{className:"flex flex-wrap justify-center items-stretch gap-4",variants:f,children:a.map(t=>e.jsx(i.div,{variants:g,className:r.cardClass,children:e.jsxs(j,{className:"h-full flex flex-col items-center text-center p-0 shadow-lg rounded-lg bg-white overflow-hidden",children:[t.image_url&&e.jsx("div",{className:`w-full flex items-center justify-center bg-gray-50 rounded-t-lg border-b-4 border-[#0d2f60] ${r.imageContainerClass}`,children:e.jsx("img",{src:t.image_url,alt:`Logo for ${t.name}`,className:t.image_fit==="cover"?"w-full h-full object-cover":"max-h-full max-w-full object-contain p-4",width:200,height:r.imageContainerClass.includes("h-64")?256:r.imageContainerClass.includes("h-56")?224:r.imageContainerClass.includes("h-48")?192:r.imageContainerClass.includes("h-40")?160:r.imageContainerClass.includes("h-32")?128:96,loading:"lazy"})}),e.jsxs(N,{className:"p-4 pt-2 flex-grow flex flex-col justify-between w-full",children:[e.jsxs("div",{children:[r.showName&&(!r.showWebsiteButton&&t.website_url?e.jsx("a",{href:t.website_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.jsx(C,{className:"text-2xl font-bold text-[#d92507] mt-2",children:t.name})}):e.jsx(C,{className:"text-2xl font-bold text-[#d92507] mt-2",children:t.name})),r.showDescription&&t.description&&e.jsx("p",{className:"text-gray-700 mt-2",children:t.description}),r.showDescription&&t.notes&&e.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["(",t.notes,")"]})]}),r.showWebsiteButton&&t.website_url&&e.jsx(F,{asChild:!0,className:"mt-4 bg-[#0d2f60] hover:bg-[#0a244a] text-white",children:e.jsxs("a",{href:t.website_url,target:"_blank",rel:"noopener noreferrer",children:["Visit ",t.name,"'s Website ",e.jsx(V,{className:"ml-2 h-4 w-4"})]})})]})]})},t.id))})]},s.id)}),o.length>0&&e.jsxs(i.div,{className:"mb-10",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-8 text-gray-700",children:"Other Sponsors"}),e.jsx(i.div,{className:"max-w-4xl mx-auto",variants:f,children:e.jsx(j,{className:"shadow-lg",children:e.jsx(N,{className:"p-8",children:e.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-8 gap-y-4",children:o.map(s=>e.jsx(i.div,{variants:g,className:"text-lg text-gray-800 font-medium",children:s.website_url?e.jsx("a",{href:s.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-[#d92507] hover:underline",children:s.name}):s.name},s.id))})})})})]}),d.length===0&&e.jsx("p",{className:"text-center text-gray-600 text-xl mt-8",children:"We are actively seeking sponsors for the current season. Your support can make a huge difference!"}),e.jsxs("div",{className:"text-center mt-12",children:[e.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Interested in becoming a sponsor and supporting the next generation of STEM leaders?"}),e.jsx(I,{to:"/donate",className:"inline-block bg-[#d92507] hover:bg-[#b31f06] text-white text-lg px-8 py-3 rounded-full transition-colors",children:"Learn How to Support Us"})]})]}),e.jsx(m,{})]})};export{U as default};
