import{r as n,j as e,S as L,H as F,L as V,s as w}from"./index-BUFGKAuy.js";import{H as o,F as c}from"./Footer-i75Jc2Kz.js";import{C as b,c as j,b as N}from"./card-6PXt11YQ.js";import{B as H}from"./button-DJwbL6o2.js";import{m as i}from"./proxy-CFHUhMrY.js";import{E as R}from"./external-link-DoYMXb9I.js";const C={diamond:{cardClass:"w-full md:w-3/4 lg:w-2/3",imageContainerClass:"h-64",showDescription:!0,showName:!0,showWebsiteButton:!0},sapphire:{cardClass:"w-full md:w-[calc(50%-1rem)]",imageContainerClass:"h-56",showDescription:!0,showName:!0,showWebsiteButton:!0},platinum:{cardClass:"w-full md:w-[calc(50%-1rem)] lg:w-[calc(33.333%-1.333rem)]",imageContainerClass:"h-48",showDescription:!0,showName:!0,showWebsiteButton:!0},gold:{cardClass:"w-full sm:w-[calc(50%-1rem)] md:w-[calc(33.333%-1.333rem)] lg:w-[calc(25%-1.5rem)]",imageContainerClass:"h-40",showDescription:!1,showName:!0,showWebsiteButton:!0},silver:{cardClass:"w-[calc(50%-0.5rem)] sm:w-[calc(33.333%-1rem)] md:w-[calc(25%-1.5rem)] lg:w-[calc(20%-1.6rem)]",imageContainerClass:"h-32",showDescription:!1,showName:!0,showWebsiteButton:!1},bronze:{cardClass:"w-[calc(50%-0.5rem)] sm:w-[calc(33.333%-1rem)] md:w-[calc(25%-1.5rem)] lg:w-[calc(20%-1.6rem)]",imageContainerClass:"h-24",showDescription:!1,showName:!0,showWebsiteButton:!1}},v=500,q=()=>{const[l,y]=n.useState([]),[m,_]=n.useState([]),[S,d]=n.useState(!0),[h,x]=n.useState(null);n.useEffect(()=>{(async()=>{d(!0);const{data:a,error:t}=await w.from("sponsors").select("*").order("amount",{ascending:!1}),{data:r,error:g}=await w.from("sponsorship_tiers").select("*");if(t)console.error("Error fetching sponsors:",t),x("Failed to load sponsors.");else if(g)console.error("Error fetching sponsorship tiers:",g),x("Failed to load sponsorship tiers.");else{y(a||[]);const E=(r||[]).sort((W,I)=>{const k=parseInt(W.price.replace(/[^0-9]/g,""),10);return parseInt(I.price.replace(/[^0-9]/g,""),10)-k});_(E)}d(!1)})()},[]);const T=s=>{for(const a of m){const t=parseInt(a.price.replace(/[^0-9]/g,""),10);if(s>=t)return a}return null},u={visible:{transition:{staggerChildren:.1}},hidden:{}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",duration:.8}}};if(S)return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(o,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx(L,{text:"Loading sponsors..."})}),e.jsx(c,{})]});if(h)return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(o,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx("p",{className:"text-lg text-red-600",children:h})}),e.jsx(c,{})]});const B=l.filter(s=>s.amount>=v),f=l.filter(s=>s.amount<v),D=B.reduce((s,a)=>{const t=T(a.amount);return t&&(s[t.tier_id]||(s[t.tier_id]=[]),s[t.tier_id].push(a)),s},{});return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsxs(F,{children:[e.jsx("title",{children:"Our Sponsors - Tomball T3 Robotics"}),e.jsx("meta",{name:"description",content:"Meet the generous sponsors who support Tomball T3 Robotics, FRC Team 7312, and learn how you can contribute."})]}),e.jsx(o,{}),e.jsxs(i.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"flex-grow container mx-auto px-4 py-12 pt-24",children:[e.jsx("h1",{className:"text-5xl font-extrabold text-[#0d2f60] text-center mb-12",children:"Our Valued Sponsors"}),m.map(s=>{const a=D[s.tier_id];if(!a||a.length===0)return null;const t=C[s.tier_id]||C.gold;return e.jsxs(i.div,{className:"mb-16",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[e.jsxs("h2",{className:`text-4xl font-bold text-center mb-8 ${s.color}`,children:[s.name," Sponsors"]}),e.jsx(i.div,{className:"flex flex-wrap justify-center items-stretch gap-4",variants:u,children:a.map(r=>e.jsx(i.div,{variants:p,className:t.cardClass,children:e.jsxs(b,{className:"h-full flex flex-col items-center text-center p-0 shadow-lg rounded-lg bg-white overflow-hidden",children:[r.image_url&&e.jsx("div",{className:`w-full flex items-center justify-center bg-gray-50 rounded-t-lg border-b-4 border-[#0d2f60] ${t.imageContainerClass}`,children:e.jsx("img",{src:r.image_url,alt:`Logo for ${r.name}`,className:r.image_fit==="cover"?"w-full h-full object-cover":"max-h-full max-w-full object-contain p-4",width:200,height:t.imageContainerClass.includes("h-64")?256:t.imageContainerClass.includes("h-56")?224:t.imageContainerClass.includes("h-48")?192:t.imageContainerClass.includes("h-40")?160:t.imageContainerClass.includes("h-32")?128:96,loading:"lazy"})}),e.jsxs(j,{className:"p-4 pt-2 flex-grow flex flex-col justify-between w-full",children:[e.jsxs("div",{children:[t.showName&&(!t.showWebsiteButton&&r.website_url?e.jsx("a",{href:r.website_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.jsx(N,{className:"text-2xl font-bold text-[#d92507] mt-2",children:r.name})}):e.jsx(N,{className:"text-2xl font-bold text-[#d92507] mt-2",children:r.name})),t.showDescription&&r.description&&e.jsx("p",{className:"text-gray-700 mt-2",children:r.description}),t.showDescription&&r.notes&&e.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["(",r.notes,")"]})]}),t.showWebsiteButton&&r.website_url&&e.jsx(H,{asChild:!0,className:"mt-4 bg-[#0d2f60] hover:bg-[#0a244a] text-white",children:e.jsxs("a",{href:r.website_url,target:"_blank",rel:"noopener noreferrer",children:["Visit ",r.name,"'s Website ",e.jsx(R,{className:"ml-2 h-4 w-4"})]})})]})]})},r.id))})]},s.id)}),f.length>0&&e.jsxs(i.div,{className:"mb-10",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:[e.jsx("h2",{className:"text-4xl font-bold text-center mb-8 text-gray-700",children:"Other Sponsors"}),e.jsx(i.div,{className:"max-w-4xl mx-auto",variants:u,children:e.jsx(b,{className:"shadow-lg",children:e.jsx(j,{className:"p-8",children:e.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-8 gap-y-4",children:f.map(s=>e.jsx(i.div,{variants:p,className:"text-lg text-gray-800 font-medium",children:s.website_url?e.jsx("a",{href:s.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-[#d92507] hover:underline",children:s.name}):s.name},s.id))})})})})]}),l.length===0&&e.jsx("p",{className:"text-center text-gray-600 text-xl mt-8",children:"We are actively seeking sponsors for the current season. Your support can make a huge difference!"}),e.jsxs("div",{className:"text-center mt-12",children:[e.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"Interested in becoming a sponsor and supporting the next generation of STEM leaders?"}),e.jsx(V,{to:"/donate",className:"inline-block bg-[#d92507] hover:bg-[#b31f06] text-white text-lg px-8 py-3 rounded-full transition-colors",children:"Learn How to Support Us"})]})]}),e.jsx(c,{})]})};export{q as default};
