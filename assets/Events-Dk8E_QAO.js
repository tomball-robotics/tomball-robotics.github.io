import{c as R,a as Q,r as x,u as L,j as e,b as W,P as C,d as X,e as we,f as Z,g as Ne,R as h,h as Ce,i as H,S as _e,H as Ae,s as Re}from"./index-B77WVJKM.js";import{H as D,F as O}from"./Footer-h5GLQPly.js";import{C as Ie,a as ke,b as Pe,c as Ee}from"./card-5uzQAO8s.js";import{u as Se,C as Me,B as Te}from"./index-BvDluL1s.js";import{B as De}from"./button-D3LdhOE6.js";import{m as _}from"./proxy-CiclMtXD.js";import{C as Oe}from"./calendar-days-CNVupYsD.js";import{T as U}from"./trophy-CfwUYWuN.js";import{E as $e}from"./external-link-BgdTn4fR.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=R("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=R("GitPullRequestArrow",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M5 9v12",key:"ih889a"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=R("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=R("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var I="Collapsible",[qe,ee]=Q(I),[Be,V]=qe(I),te=x.forwardRef((a,n)=>{const{__scopeCollapsible:s,open:o,defaultOpen:l,disabled:r,onOpenChange:i,...d}=a,[f,p]=L({prop:o,defaultProp:l??!1,onChange:i,caller:I});return e.jsx(Be,{scope:s,disabled:r,contentId:W(),open:f,onOpenToggle:x.useCallback(()=>p(c=>!c),[p]),children:e.jsx(C.div,{"data-state":q(f),"data-disabled":r?"":void 0,...d,ref:n})})});te.displayName=I;var ae="CollapsibleTrigger",se=x.forwardRef((a,n)=>{const{__scopeCollapsible:s,...o}=a,l=V(ae,s);return e.jsx(C.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":q(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...o,ref:n,onClick:X(a.onClick,l.onOpenToggle)})});se.displayName=ae;var F="CollapsibleContent",oe=x.forwardRef((a,n)=>{const{forceMount:s,...o}=a,l=V(F,a.__scopeCollapsible);return e.jsx(we,{present:s||l.open,children:({present:r})=>e.jsx(ze,{...o,ref:n,present:r})})});oe.displayName=F;var ze=x.forwardRef((a,n)=>{const{__scopeCollapsible:s,present:o,children:l,...r}=a,i=V(F,s),[d,f]=x.useState(o),p=x.useRef(null),c=Z(n,p),t=x.useRef(0),u=t.current,v=x.useRef(0),w=v.current,g=i.open||d,j=x.useRef(g),y=x.useRef(void 0);return x.useEffect(()=>{const m=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(m)},[]),Ne(()=>{const m=p.current;if(m){y.current=y.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const N=m.getBoundingClientRect();t.current=N.height,v.current=N.width,j.current||(m.style.transitionDuration=y.current.transitionDuration,m.style.animationName=y.current.animationName),f(o)}},[i.open,o]),e.jsx(C.div,{"data-state":q(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...r,ref:c,style:{"--radix-collapsible-content-height":u?`${u}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...a.style},children:g&&l})});function q(a){return a?"open":"closed"}var Ge=te,Ye=se,Ke=oe,b="Accordion",Ue=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[B,Je,Qe]=Ce(b),[k,ht]=Q(b,[Qe,ee]),z=ee(),re=h.forwardRef((a,n)=>{const{type:s,...o}=a,l=o,r=o;return e.jsx(B.Provider,{scope:a.__scopeAccordion,children:s==="multiple"?e.jsx(et,{...r,ref:n}):e.jsx(Ze,{...l,ref:n})})});re.displayName=b;var[ne,We]=k(b),[le,Xe]=k(b,{collapsible:!1}),Ze=h.forwardRef((a,n)=>{const{value:s,defaultValue:o,onValueChange:l=()=>{},collapsible:r=!1,...i}=a,[d,f]=L({prop:s,defaultProp:o??"",onChange:l,caller:b});return e.jsx(ne,{scope:a.__scopeAccordion,value:h.useMemo(()=>d?[d]:[],[d]),onItemOpen:f,onItemClose:h.useCallback(()=>r&&f(""),[r,f]),children:e.jsx(le,{scope:a.__scopeAccordion,collapsible:r,children:e.jsx(ie,{...i,ref:n})})})}),et=h.forwardRef((a,n)=>{const{value:s,defaultValue:o,onValueChange:l=()=>{},...r}=a,[i,d]=L({prop:s,defaultProp:o??[],onChange:l,caller:b}),f=h.useCallback(c=>d((t=[])=>[...t,c]),[d]),p=h.useCallback(c=>d((t=[])=>t.filter(u=>u!==c)),[d]);return e.jsx(ne,{scope:a.__scopeAccordion,value:i,onItemOpen:f,onItemClose:p,children:e.jsx(le,{scope:a.__scopeAccordion,collapsible:!0,children:e.jsx(ie,{...r,ref:n})})})}),[tt,P]=k(b),ie=h.forwardRef((a,n)=>{const{__scopeAccordion:s,disabled:o,dir:l,orientation:r="vertical",...i}=a,d=h.useRef(null),f=Z(d,n),p=Je(s),t=Se(l)==="ltr",u=X(a.onKeyDown,v=>{var Y;if(!Ue.includes(v.key))return;const w=v.target,g=p().filter(T=>{var K;return!((K=T.ref.current)!=null&&K.disabled)}),j=g.findIndex(T=>T.ref.current===w),y=g.length;if(j===-1)return;v.preventDefault();let m=j;const N=0,E=y-1,S=()=>{m=j+1,m>E&&(m=N)},M=()=>{m=j-1,m<N&&(m=E)};switch(v.key){case"Home":m=N;break;case"End":m=E;break;case"ArrowRight":r==="horizontal"&&(t?S():M());break;case"ArrowDown":r==="vertical"&&S();break;case"ArrowLeft":r==="horizontal"&&(t?M():S());break;case"ArrowUp":r==="vertical"&&M();break}const ye=m%y;(Y=g[ye].ref.current)==null||Y.focus()});return e.jsx(tt,{scope:s,disabled:o,direction:l,orientation:r,children:e.jsx(B.Slot,{scope:s,children:e.jsx(C.div,{...i,"data-orientation":r,ref:f,onKeyDown:o?void 0:u})})})}),A="AccordionItem",[at,G]=k(A),ce=h.forwardRef((a,n)=>{const{__scopeAccordion:s,value:o,...l}=a,r=P(A,s),i=We(A,s),d=z(s),f=W(),p=o&&i.value.includes(o)||!1,c=r.disabled||a.disabled;return e.jsx(at,{scope:s,open:p,disabled:c,triggerId:f,children:e.jsx(Ge,{"data-orientation":r.orientation,"data-state":fe(p),...d,...l,ref:n,disabled:c,open:p,onOpenChange:t=>{t?i.onItemOpen(o):i.onItemClose(o)}})})});ce.displayName=A;var de="AccordionHeader",me=h.forwardRef((a,n)=>{const{__scopeAccordion:s,...o}=a,l=P(b,s),r=G(de,s);return e.jsx(C.h3,{"data-orientation":l.orientation,"data-state":fe(r.open),"data-disabled":r.disabled?"":void 0,...o,ref:n})});me.displayName=de;var $="AccordionTrigger",xe=h.forwardRef((a,n)=>{const{__scopeAccordion:s,...o}=a,l=P(b,s),r=G($,s),i=Xe($,s),d=z(s);return e.jsx(B.ItemSlot,{scope:s,children:e.jsx(Ye,{"aria-disabled":r.open&&!i.collapsible||void 0,"data-orientation":l.orientation,id:r.triggerId,...d,...o,ref:n})})});xe.displayName=$;var pe="AccordionContent",ue=h.forwardRef((a,n)=>{const{__scopeAccordion:s,...o}=a,l=P(b,s),r=G(pe,s),i=z(s);return e.jsx(Ke,{role:"region","aria-labelledby":r.triggerId,"data-orientation":l.orientation,...i,...o,ref:n,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...a.style}})});ue.displayName=pe;function fe(a){return a?"open":"closed"}var st=re,ot=ce,rt=me,he=xe,be=ue;const nt=st,ve=x.forwardRef(({className:a,...n},s)=>e.jsx(ot,{ref:s,className:H("border-b",a),...n}));ve.displayName="AccordionItem";const ge=x.forwardRef(({className:a,children:n,...s},o)=>e.jsx(rt,{className:"flex",children:e.jsxs(he,{ref:o,className:H("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",a),...s,children:[n,e.jsx(Me,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ge.displayName=he.displayName;const je=x.forwardRef(({className:a,children:n,...s},o)=>e.jsx(be,{ref:o,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:e.jsx("div",{className:H("pb-4 pt-0",a),children:n})}));je.displayName=be.displayName;const J=a=>{const n=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,s=a.match(n);return s&&s[2].length===11?s[2]:null},bt=()=>{const[a,n]=x.useState([]),[s,o]=x.useState(!0),[l,r]=x.useState(null);x.useEffect(()=>{(async()=>{o(!0),r(null);const{data:t,error:u}=await Re.from("events").select("*").order("event_date",{ascending:!1});u?(console.error("Error fetching events from Supabase:",u),r("Failed to load events from database.")):n(t||[]),o(!1)})()},[]);const i=a.reduce((c,t)=>{const u=new Date(t.event_date).getFullYear();return c[u]||(c[u]=[]),c[u].push(t),c},{}),d=Object.keys(i).map(Number).sort((c,t)=>t-c),f={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",duration:.8}}};return s?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(D,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx(_e,{text:"Loading events..."})}),e.jsx(O,{})]}):l?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(D,{}),e.jsx("main",{className:"flex-grow container mx-auto px-4 py-12 pt-24 text-center",children:e.jsx("p",{className:"text-lg text-red-600",children:l})}),e.jsx(O,{})]}):e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsxs(Ae,{children:[e.jsx("title",{children:"Events - Tomball T3 Robotics"}),e.jsx("meta",{name:"description",content:"Explore Tomball T3 Robotics' competition history, event results, and achievements."})]}),e.jsx(D,{}),e.jsxs(_.main,{initial:"hidden",animate:"visible",variants:f,className:"flex-grow container mx-auto px-4 py-12 pt-24",children:[e.jsx("h1",{className:"text-5xl font-extrabold text-[#0d2f60] text-center mb-12",children:"Our Journey & Achievements"}),e.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[e.jsx("div",{className:"absolute left-1/2 top-10 h-[calc(100%-4rem)] w-0.5 bg-gray-200 -translate-x-1/2"}),d.map(c=>e.jsxs("div",{className:"mb-12",children:[e.jsx(_.div,{variants:p,className:"flex justify-center mb-8",children:e.jsx("h2",{className:"text-4xl font-bold text-white bg-[#d92507] px-6 py-2 rounded-full z-10",children:c})}),i[c].map((t,u)=>e.jsxs(_.div,{variants:p,className:"relative mb-8 flex",children:[e.jsx("div",{className:"absolute top-3 left-1/2 w-5 h-5 bg-[#0d2f60] rounded-full -translate-x-1/2 border-4 border-white z-10"}),e.jsx("div",{className:`w-[calc(50%-1.5rem)] ${u%2===0?"pr-4 text-right":"pl-4 text-left ml-auto"}`,children:e.jsxs(Ie,{className:"shadow-lg hover:shadow-xl transition-shadow",children:[e.jsxs(ke,{className:"p-4 border-b border-gray-200",children:[e.jsx(Pe,{className:"text-lg sm:text-2xl font-bold text-[#0d2f60] mb-1",children:t.name}),e.jsx("p",{className:`text-xs sm:text-sm text-gray-500 ${u%2!==0?"text-left":"text-right"}`,children:new Date(t.event_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),e.jsxs("p",{className:`flex items-center text-xs sm:text-sm text-gray-500 ${u%2!==0?"justify-start":"justify-end"}`,children:[e.jsx(Fe,{className:"mr-1 sm:mr-2 h-4 w-4 flex-shrink-0"}),t.location]})]}),e.jsx(Ee,{className:"p-0",children:e.jsx(nt,{type:"single",collapsible:!0,className:"w-full",children:e.jsxs(ve,{value:"item-1",className:"border-none",children:[e.jsxs(ge,{className:"px-4 py-3 text-sm sm:text-base text-[#d92507] hover:no-underline hover:text-[#b31f06]",children:["More Details for ",t.name]}),e.jsxs(je,{className:"px-4 pb-4 text-gray-700 text-sm space-y-3",children:[t.overall_status_str&&e.jsxs("p",{className:"flex items-start space-x-2 text-left",children:[e.jsx(Oe,{className:"h-4 w-4 text-[#0d2f60] flex-shrink-0 mt-1"}),e.jsx("span",{className:"font-semibold",children:"Result: "}),e.jsx("span",{dangerouslySetInnerHTML:{__html:t.overall_status_str.includes("waiting for the event to begin")&&new Date(t.event_date)<new Date?"No official results available for this event.":t.overall_status_str}})]}),t.qual_rank!==null&&e.jsxs("p",{className:"flex items-center space-x-2",children:[e.jsx(Ve,{className:"h-4 w-4 text-[#0d2f60]"}),e.jsx("span",{className:"font-semibold",children:"Qualification Rank: "})," ",t.qual_rank]}),t.record_wins!==null&&t.record_losses!==null&&t.record_ties!==null&&e.jsxs("p",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"h-4 w-4 text-[#0d2f60]"}),e.jsx("span",{className:"font-semibold",children:"Record: "})," ",t.record_wins,"-",t.record_losses,"-",t.record_ties]}),t.alliance_status&&e.jsxs("p",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"h-4 w-4 text-[#0d2f60]"}),e.jsx("span",{className:"font-semibold",children:"Alliance: "})," ",t.alliance_status]}),t.awards&&t.awards.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"font-semibold text-[#0d2f60] mb-1",children:"Awards:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.awards.map((v,w)=>e.jsxs(Te,{variant:"secondary",className:"text-xs px-2 py-1",children:[e.jsx(U,{className:"mr-1 h-3 w-3 text-yellow-500"}),v]},w))})]}),t.video_url&&J(t.video_url)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold text-[#0d2f60] mb-2",children:"Match Video:"}),e.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full rounded-md",src:`https://www.youtube.com/embed/${J(t.video_url)}`,title:`YouTube video for ${t.name}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),(!t.overall_status_str||t.overall_status_str.includes("waiting for the event to begin")&&new Date(t.event_date)<new Date)&&t.qual_rank===null&&t.record_wins===null&&!t.alliance_status&&(!t.awards||t.awards.length===0)&&!t.video_url&&e.jsx("p",{className:"text-gray-500",children:"No additional details available."}),e.jsx(De,{asChild:!0,variant:"link",className:"p-0 h-auto justify-start text-[#d92507] hover:text-[#b31f06] mt-4",children:e.jsxs("a",{href:`https://www.thebluealliance.com/event/${t.id}`,target:"_blank",rel:"noopener noreferrer",children:["View ",t.name," on The Blue Alliance ",e.jsx($e,{className:"ml-2 h-4 w-4"})]})})]})]})})})]})})]},t.id))]},c)),e.jsx(_.div,{variants:p,className:"relative mt-8",children:e.jsx("div",{className:"w-full text-center",children:e.jsxs("div",{className:"inline-flex items-center bg-[#0d2f60] text-white text-base sm:text-xl font-bold px-4 py-2 rounded-full shadow-lg",children:[e.jsx(Le,{className:"mr-2 h-4 w-4 sm:h-5 sm:w-5"}),"Team Founded 2018"]})})})]}),a.length===0&&e.jsx("p",{className:"text-center text-gray-600 text-xl mt-8",children:"No events to display yet. Check back soon!"})]}),e.jsx(O,{})]})};export{bt as default};
